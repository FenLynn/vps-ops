# GitHub Repository Format Guide for LLMs
# GitHub ä»“åº“æ ¼å¼åŒ–æŒ‡å— (å¤§æ¨¡å‹ä¸“ç”¨)

> **Purpose / ç›®çš„**: This document defines the standard structure and files for a GitHub-ready repository. You (as an LLM) should use these specifications to format any repository.
>
> **ç”¨é€”è¯´æ˜**ï¼šæœ¬æ–‡æ¡£å®šä¹‰äº† GitHub ä»“åº“çš„æ ‡å‡†ç»“æ„å’Œæ–‡ä»¶è§„èŒƒã€‚ä½œä¸ºå¤§æ¨¡å‹ï¼Œè¯·æ ¹æ®è¿™äº›è§„èŒƒæ ¼å¼åŒ–ä»»æ„ä»“åº“ã€‚

---

## ğŸ¯ TASK DEFINITION / ä»»åŠ¡å®šä¹‰

**When the user says "format this repo" or "make this GitHub-ready", you should:**

1. Create all required files listed in Section 1
2. Follow the exact file content templates in Section 2
3. Configure Git hooks as specified in Section 3
4. Validate the result according to Section 4

**å½“ç”¨æˆ·è¯´"æ ¼å¼åŒ–ä»“åº“"æˆ–"è®©ä»“åº“ç¬¦åˆ GitHub æ ‡å‡†"æ—¶ï¼Œä½ åº”è¯¥ï¼š**

1. åˆ›å»ºç¬¬ 1 èŠ‚ä¸­åˆ—å‡ºçš„æ‰€æœ‰å¿…éœ€æ–‡ä»¶
2. æŒ‰ç…§ç¬¬ 2 èŠ‚ä¸­çš„æ¨¡æ¿ç”Ÿæˆæ–‡ä»¶å†…å®¹
3. æŒ‰ç…§ç¬¬ 3 èŠ‚é…ç½® Git hooks
4. æŒ‰ç…§ç¬¬ 4 èŠ‚éªŒè¯ç»“æœ

---

## 1. REQUIRED FILES / å¿…éœ€æ–‡ä»¶

Create the following files in the repository root:

| File | Purpose | Required |
|------|---------|----------|
| `README.md` | Project documentation | âœ… YES |
| `.gitignore` | Ignored files list | âœ… YES |
| `LICENSE` | Open source license | âœ… YES |
| `.editorconfig` | Code style settings | âœ… YES |
| `CHANGELOG.md` | Version history | âœ… YES |
| `.githooks/pre-commit` | Pre-commit automation | âœ… YES |
| `.githooks/prepare-commit-msg` | Auto commit message | âœ… YES |
| `CONTRIBUTING.md` | Contribution guide | âšª Optional |
| `SECURITY.md` | Security policy | âšª Optional |
| `CITATION.cff` | Citation info | âšª Optional |

---

## 2. FILE TEMPLATES / æ–‡ä»¶æ¨¡æ¿

### 2.1 README.md

**Template structure / æ¨¡æ¿ç»“æ„:**

```markdown
# {{PROJECT_NAME}}

> **Last Updated / æœ€åæ›´æ–°**: {{YYYY-MM-DD}}

## ğŸ“‹ Overview / æ¦‚è¿°

{{Brief description of the project in 1-2 sentences}}

## ğŸ“ Project Structure / é¡¹ç›®ç»“æ„

```
{{PROJECT_NAME}}/
â”œâ”€â”€ {{list main directories and files}}
â””â”€â”€ ...
```

## ğŸš€ Quick Start / å¿«é€Ÿå¼€å§‹

```bash
{{Installation or setup commands}}
```

## ğŸ“– Usage / ä½¿ç”¨è¯´æ˜

{{Main commands or API reference}}

## ğŸ“„ License / è®¸å¯è¯

This project is licensed under the MIT License.

---

*Generated by [sci-research](https://github.com/FenLynn/sci-research)*
```

**Rules / è§„åˆ™:**
- Use bilingual format (English primary, Chinese secondary)
- Include emoji icons for section headers
- Keep descriptions concise
- Update the date when content changes

---

### 2.2 .gitignore

**Generate based on project type / æ ¹æ®é¡¹ç›®ç±»å‹ç”Ÿæˆ:**

#### For Python projects / Python é¡¹ç›®:
```gitignore
# Python
__pycache__/
*.py[cod]
*.pyd
.Python
venv/
.env
dist/
build/
*.egg-info/

# IDE
.vscode/
.idea/
*.swp

# OS
.DS_Store
Thumbs.db

# Logs
*.log
_logs/

# Data (prevent repo bloat)
data/
output/
*.csv
*.xlsx
*.h5
*.pth
```

#### For LaTeX projects / LaTeX é¡¹ç›®:
```gitignore
# LaTeX
*.aux
*.log
*.bbl
*.blg
*.out
*.fls
*.fdb_latexmk
*.synctex.gz
*.toc
*.lof
*.lot

# Editor
*.swp
*~

# OS
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/
```

---

### 2.3 LICENSE

**Default: MIT License / é»˜è®¤ä½¿ç”¨ MIT è®¸å¯è¯:**

```
MIT License

Copyright (c) {{YEAR}} {{PROJECT_NAME}} Authors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

### 2.4 .editorconfig

```editorconfig
root = true

[*]
charset = utf-8
indent_style = space
indent_size = 4
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

[*.{bat,cmd}]
end_of_line = crlf

[*.{yml,yaml,json}]
indent_size = 2

[*.{tex,sty,cls}]
indent_size = 2

[Makefile]
indent_style = tab
```

---

### 2.5 CHANGELOG.md

```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/).

## [Unreleased]

### Added
- Initial project structure

## [0.1.0] - {{YYYY-MM-DD}}

### Added
- Project initialized
```

---

### 2.6 .githooks/pre-commit

**Shell script for pre-commit automation:**

```bash
#!/bin/sh
# Pre-commit hook: Auto-update documentation

echo "[Pre-Commit] Running pre-commit checks..."

# 1. Update README if update command exists
if command -v {{UPDATE_COMMAND}} &> /dev/null; then
    {{UPDATE_COMMAND}}
fi

# 2. Stage updated docs
git add README.md 2>/dev/null
git add **/README.md 2>/dev/null

echo "[Pre-Commit] Done."
```

**Placeholders / å ä½ç¬¦:**
- `{{UPDATE_COMMAND}}`: The command to update docs (e.g., `sci doc`, `paper readme`)

---

### 2.7 .githooks/prepare-commit-msg

**Python script for auto-generating commit messages:**

```python
#!/usr/bin/env python
"""
Lazy Git Hook: Auto-generate commit message based on staged files
"""
import os
import subprocess
import sys

COMMIT_MSG_FILE = sys.argv[1]

def generate_commit_msg():
    """Analyze staged files and suggest message"""
    try:
        result = subprocess.run(
            ["git", "diff", "--name-only", "--cached"],
            capture_output=True,
            text=True
        )
        files = [f for f in result.stdout.strip().split("\n") if f]

        if not files:
            return None

        # Analyze file types and directories
        dirs = set()
        exts = set()
        for f in files:
            parts = f.replace("\\", "/").split("/")
            if len(parts) > 1:
                dirs.add(parts[0])
            ext = os.path.splitext(f)[1]
            if ext:
                exts.add(ext)

        # Generate message based on context
        if all(f.endswith(".md") for f in files):
            return "Docs: Update documentation"
        elif dirs:
            return f"Feat: Update {', '.join(sorted(dirs))}"
        else:
            return "Chore: General updates"

    except Exception:
        return None

def main():
    source = sys.argv[2] if len(sys.argv) > 2 else None

    # Only auto-fill if no source (standard git commit, not merge/rebase)
    if source is None:
        new_msg = generate_commit_msg()
        if new_msg:
            print(f"[HOOK] Auto-Suggest: {new_msg}")
            with open(COMMIT_MSG_FILE, "r+") as f:
                content = f.read()
                f.seek(0, 0)
                f.write(f"{new_msg}\n\n{content}")

if __name__ == "__main__":
    main()
```

---

## 3. GIT HOOKS CONFIGURATION / Git Hooks é…ç½®

**After creating `.githooks/` directory, run:**

```bash
git config core.hooksPath .githooks
```

**This tells Git to use `.githooks/` instead of `.git/hooks/`.**

**åˆ›å»º `.githooks/` ç›®å½•åï¼Œè¿è¡Œä»¥ä¸Šå‘½ä»¤å‘Šè¯‰ Git ä½¿ç”¨è‡ªå®šä¹‰ hooks ç›®å½•ã€‚**

---

## 4. VALIDATION CHECKLIST / éªŒè¯æ¸…å•

After formatting, verify the following:

| Check | Command / Method |
|-------|------------------|
| `.gitignore` works | `git status` should not show ignored files |
| Hooks are active | `git config core.hooksPath` returns `.githooks` |
| Pre-commit runs | `git commit` should trigger hook output |
| README is valid | No broken links, proper markdown |
| License year is current | Check `{{YEAR}}` is replaced |

---

## 5. OPTIONAL ENHANCEMENTS / å¯é€‰å¢å¼º

### 5.1 CONTRIBUTING.md

```markdown
# Contributing to {{PROJECT_NAME}}

Thank you for your interest!

## Quick Start
1. Fork the repo
2. Clone locally
3. Create a branch: `git checkout -b feature/my-feature`
4. Make changes
5. Commit: `git commit -m "Feat: Add my feature"`
6. Push and create PR

## Code Style
- Follow `.editorconfig` settings
- Run linters before committing
```

### 5.2 SECURITY.md

```markdown
# Security Policy

## Reporting a Vulnerability

Please report security issues to: {{EMAIL}}

Do NOT create public issues for security vulnerabilities.
```

### 5.3 .github/workflows/ (GitHub Actions)

For CI/CD, create `.github/workflows/ci.yml`:

```yaml
name: CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Run tests
        run: |
          pip install -r requirements.txt
          pytest
```

---

## 6. EXECUTION INSTRUCTIONS FOR LLMs / å¤§æ¨¡å‹æ‰§è¡ŒæŒ‡ä»¤

**When you receive a "format repo" request, follow these steps IN ORDER:**

1. **Detect project type** by examining existing files:
   - `.py` files â†’ Python project
   - `.tex` files â†’ LaTeX project
   - `package.json` â†’ Node.js project

2. **Create files** using templates from Section 2, replacing all `{{PLACEHOLDERS}}`:
   - `{{PROJECT_NAME}}` â†’ from folder name or user input
   - `{{YEAR}}` â†’ current year
   - `{{YYYY-MM-DD}}` â†’ current date
   - `{{UPDATE_COMMAND}}` â†’ based on project type

3. **Initialize Git** if not already done:
   ```bash
   git init
   git config core.hooksPath .githooks
   git add .
   git commit -m "Initial commit: project structure"
   ```

4. **Report completion** with list of created files.

---

## 7. COMMON MISTAKES TO AVOID / å¸¸è§é”™è¯¯

| âŒ Wrong | âœ… Correct |
|----------|-----------|
| Creating `.lazygit/` folder | Use `.githooks/` for Git hooks |
| Hardcoding paths | Use relative paths or placeholders |
| Missing `.editorconfig` | Always include for consistent formatting |
| No `LICENSE` file | Always add MIT or appropriate license |
| Outdated date in README | Use current date when creating |
| Windows line endings in shell scripts | Use LF (Unix) for `.sh` and hooks |

---

## 8. EXAMPLE EXECUTION / æ‰§è¡Œç¤ºä¾‹

**User request / ç”¨æˆ·è¯·æ±‚:**
> "Format my LaTeX paper project at D:\work\paper\my_thesis"

**LLM actions / å¤§æ¨¡å‹æ“ä½œ:**
1. Create `README.md` with project name "my_thesis"
2. Create `.gitignore` using LaTeX template
3. Create `LICENSE` with current year
4. Create `.editorconfig`
5. Create `CHANGELOG.md`
6. Create `.githooks/pre-commit` with `paper readme` as update command
7. Create `.githooks/prepare-commit-msg`
8. Run `git init && git config core.hooksPath .githooks`
9. Commit initial structure

**Expected output / é¢„æœŸè¾“å‡º:**
```
[SUCCESS] Repository formatted with:
  âœ“ README.md
  âœ“ .gitignore
  âœ“ LICENSE
  âœ“ .editorconfig
  âœ“ CHANGELOG.md
  âœ“ .githooks/pre-commit
  âœ“ .githooks/prepare-commit-msg
  âœ“ Git initialized with hooks enabled
```

---

*This guide follows the standards established in [sci-research](https://github.com/FenLynn/sci-research).*
